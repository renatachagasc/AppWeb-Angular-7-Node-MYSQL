<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div><button type="button" class="btn btn-danger" (click)="isCollapsed = !isCollapsed"
                        [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic">Adicionar Venda
                    </button>
                    <hr>
                </div>
            </div>
            <div class="col-md-12" id="collapseBasic" [collapse]="isCollapsed">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title">Adicionar Venda</h4>
                        <p class="card-category">Adicione informações gerais</p>
                    </div>
                    <div class="card-body">
                        <form #formulario="ngForm" id="formulario" method="POST"  
                        (ngSubmit)="atualizar ? atualizaVenda(formulario) : criarVenda(formulario)">
                            <div class="row">
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="data" name="data" matInput placeholder="Data" [(ngModel)]="v.data">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width">
                                        <input id="cliente" name="cliente" matInput placeholder="Cliente" [(ngModel)]="v.cliente">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width">
                                        <input id="vendedor" name="vendedor" matInput placeholder="Vendedor" [(ngModel)]="v.vendedor">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width">
                                        <input id="cod_interno" name="cod_interno" matInput placeholder="Cód. Interno" [(ngModel)]="v.cod_interno">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="item" name="item" matInput placeholder="Item" [(ngModel)]="v.item">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="cod_barras" name="cod_barras" matInput placeholder="Cód. Barras" [(ngModel)]="v.cod_barras">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="ncm" name="ncm" matInput placeholder="NCM" [(ngModel)]="v.ncm">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="unid" name="unid" matInput placeholder="Unid." [(ngModel)]="v.unid">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="quantidade" name="quantidade" matInput placeholder="Quantidade" [(ngModel)]="v.quantidade">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field class="example-full-width">
                                        <input id="vr_unitario" name="vr_unitario" matInput placeholder="Vr. Unitário" [(ngModel)]="v.vr_unitario">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <mat-form-field class="example-full-width">
                                        <input id="sub_total" name="sub_total" matInput placeholder="Sub-Total R$" [(ngModel)]="v.sub_total">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field class="example-full-width">
                                        <input id="desconto_porcento" name="desconto_porcento" matInput placeholder="Desconto %." [(ngModel)]="v.desconto_porcento">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field class="example-full-width">
                                        <input id="desconto_reais" name="desconto_reais" matInput placeholder="Desconto R$" [(ngModel)]="v.desconto_reais">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field class="example-full-width">
                                        <input id="total" name="total" matInput placeholder="Total R$" [(ngModel)]="v.total">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <mat-form-field class="example-full-width">
                                    <input id="observacao" name="observacao" matInput placeholder="Observação" [(ngModel)]="v.observacao">
                                </mat-form-field>
                            </div>

                            <button mat-raised-button type="submit" class="btn btn-danger pull-right">Adicionar</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title ">Vendas Cadastrados</h4>
                        <p class="card-category"> Vendas cadastrados no sistema</p>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead class=" text-primary">
                                    <th>
                                        Código
                                    </th>
                                    <th>
                                        Data
                                    </th>
                                    <th>
                                        Cliente
                                    </th>
                                    <th>
                                        Vendedor
                                    </th>
                                    <th>
                                        Total Pago
                                    </th>
                                    <th>
                                        Cód. Interno
                                    </th>
                                    <th>
                                        Estoque
                                    </th>
                                    <th>
                                        Ações
                                    </th>

                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            1
                                        </td>
                                        <td>
                                            2154
                                        </td>
                                        <td>
                                            Regata Básica
                                        </td>
                                        <td>
                                            1
                                        </td>
                                        <td>
                                            15,00
                                        </td>
                                        <td>
                                            35,00
                                        </td>
                                        <td>
                                            30
                                        </td>

                                        <td class="td-actions text-right">
                                            <button mat-raised-button type="button" matTooltip="Editar"
                                                [matTooltipPosition]="'above'"
                                                class="btn btn-primary btn-link btn-sm btn-just-icon">
                                                <i class="material-icons">edit</i>
                                            </button>
                                            <button mat-raised-button type="button" matTooltip="Remover"
                                                [matTooltipPosition]="'above'"
                                                class="btn btn-danger btn-link btn-sm btn-just-icon">
                                                <i class="material-icons">close</i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let v of vendas">
                                        <td>
                                            {{v.data}}
                                        </td>
                                        <td>
                                            {{v.cliente}}
                                        </td>
                                        <td>
                                            {{v.vendedor}}
                                        </td>
                                        <td>
                                            {{v.cod_interno}}
                                        </td>
                                        <td>
                                            {{v.item}}
                                        </td>
                                        <td>
                                            {{v.cod_barras}}
                                        </td>
                                        <td>
                                            {{v.ncm}}
                                        </td>
                                        <td>
                                            {{v.unid}}
                                        </td>
                                        <td>
                                            {{v.quantidade}}
                                        </td>
                                        <td>
                                            {{v.vr_unitario}}                                        
                                        </td>
                                        <td>
                                            {{v.sub_total}}
                                        </td>
                                        <td>
                                            {{v.desconto_porcento}}                                        
                                        </td>
                                        <td>
                                            {{v.desconto_reais}}
                                        </td>
                                        <td>
                                            {{v.total}}
                                        </td>
                                        <td>
                                            {{v.observacao}}
                                        </td>
                                        <td class="td-actions text-right">
                                            <button mat-raised-button type="button" matTooltip="Editar"
                                                [matTooltipPosition]="'above'"
                                                class="btn btn-primary btn-link btn-sm btn-just-icon">
                                                <i class="material-icons">edit</i>
                                            </button>
                                            <button mat-raised-button type="button" matTooltip="Remover"
                                                [matTooltipPosition]="'above'"
                                                class="btn btn-danger btn-link btn-sm btn-just-icon">
                                                <i class="material-icons">close</i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>